const loadmore_buttons=document.querySelectorAll(".loadmore-button");loadmore_buttons.forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=document.querySelector("#"+e.target.parentElement.dataset.parentid);let o=t.dataset,a="";for(const[e,t]of Object.entries(o))a+=(""!==a?"&":"")+e+"="+t;const r=new XMLHttpRequest;r.onloadstart=function(e){t.querySelector(".loadmore-action-wrapper .loadmore-button").style.display="none",t.querySelector(".loadmore-action-wrapper .loadmore-spinner").style.display="block"},r.onload=function(e){200==r.status&&(t.querySelector(".loadmore-content-wrapper .loadmore-content").innerHTML+=r.responseText,t.querySelector(".loadmore-action-wrapper .loadmore-spinner").style.display="none",t.dataset.nextpage!=t.dataset.maxpage?(t.dataset.nextpage=parseInt(t.dataset.nextpage)+1,t.querySelector(".loadmore-action-wrapper .loadmore-button").style.display="block"):t.querySelector(".loadmore-action-wrapper").style.display="none")},r.open("POST",mdb_ajax.ajaxurl,!0),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded;"),r.send(a)})});
